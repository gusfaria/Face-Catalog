
<!doctype html>

<html lang="en">
    <head>
        <meta charset="utf-8" />
        <script  src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
        <script src="/public/js/utils.js"></script>
		<script src="/public/js/model_pca_20_svm.js" ></script>
		<script src="/public/js/clmtrackr.js"></script>
		<script src="/public/js/application.js" ></script>

        <!-- //socket io -->
        <script src="/socket.io/socket.io.js"></script>
        <script>
            var imgList = [];
            var socket = io.connect('http://localhost');
            socket.on('filepaths', function (data) {
            // console.log(data.imgPath);
            imgList.push(data.imgPath);
            socket.emit('event', { img: 'data' });
            myImages();
          });
        </script>

    </head>
    <body>
    	<canvas id="canvas" width="640" height="480"></canvas>
    	<video id="webcam" width="640" height="480" style="display:none" ></video>
    	<a id="button" href="#">take picture</a>
    	<script>
				var webcam = document.getElementById('webcam');
				var canvas = document.getElementById('canvas');
				$("#button").on("click", function(){
					saveImageInCanvas(canvas);
				});
			    $(function(){
			    	initApp(webcam, canvas);
			    });
    	</script>
        <div id='output'></div>
        <script type="text/javascript">
        //supposed to go into main
        //not working
        var myImages = function(){
            console.log('hello  ', imgList[0][0]);
            var output = document.getElementById('output');
            for(var i=0; i < imgList[0].length; i++ ){
                var imgcreate = document.createElement('img');
                imgcreate.src = imgList[0][i];
                output.appendChild(imgcreate);
                console.log('this is my', imgList[0][i]);
            }
        };


        </script>
    </body>
</html>